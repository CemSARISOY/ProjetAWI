<div id="container">
    <div>
        <mat-form-field>
          <mat-label>Titre de l'étape </mat-label>
          <input matInput type="text" [(ngModel)]="titre" />
        </mat-form-field>
        <mat-form-field>
          <mat-label>Temps en minutes </mat-label>
          <input matInput type="number" min="0" [(ngModel)]="temps" />
        </mat-form-field>
        <mat-form-field>
          <mat-label>Description</mat-label>
          <textarea matNativeControl [(ngModel)]="description"></textarea>
        </mat-form-field>
      </div>
      
      <div id="ingr">
        <mat-form-field class="example-full-width">
          <mat-label>Ingrédient</mat-label>
          <input
            type="text"
            aria-label="Ingrédient"
            matInput
            [formControl]="myControl"
            [matAutocomplete]="auto"
            [(ngModel)]="newIngredient"
          />
          <mat-autocomplete #auto="matAutocomplete">
            <mat-option
              *ngFor="let option of filteredOptions | async"
              [value]="option.LIBELLE"
            >
              {{ option.LIBELLE }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Quantite </mat-label>
          <input matInput type="number" min="0" [(ngModel)]="quantite" />
        </mat-form-field>
        <button mat-flat-button color="primary" (click)="addIngredient()">
          Ajouter l'ingrédient
        </button>
      
        <mat-selection-list
          [multiple]="false"
          *ngFor="let item of ingredientsEtape; let index = index"
        >
          <mat-list-option (click)="this.ingredientsEtape.splice(index, 1)">
            {{ item.ingredient.LIBELLE }} : {{ item.quantite}}
          </mat-list-option>
        </mat-selection-list>
      </div>
      
      <button *ngIf="isModifying" mat-flat-button color="primary" (click)="addStep()">
        Modifier l'étape
      </button>
      <button *ngIf="!isModifying" mat-flat-button color="primary" (click)="addStep()">
        Ajouter l'étape
      </button>
      
</div>
